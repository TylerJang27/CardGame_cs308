<?xml version="1.0" encoding="UTF-8" ?>
<data type="rule">
    <settings>
        <layout>
            <!-- should just be a file name so that we can process it properly and send to the front end -->
        </layout>
    </settings>
    <deck>
        <!-- should either be custom held here, or point to a file to retrieve from -->
        <card>
            <name>AC</name>
            <value>1</value>
            <color>b</color>
            <suit>c</suit>
        </card>
        <card>2C</card>
        <card>3C</card>
        <card>4C</card>
        <card>5C</card>
        <card>6C</card>
        <card>7C</card>
        <card>8C</card>
        <card>9C</card>
        <card>0C</card>
        <card>JC</card>
        <card>QC</card>
        <card>KC</card>
        <card>AD</card>
        <card>2D</card>
        <card>3D</card>
        <card>4D</card>
        <card>5D</card>
        <card>6D</card>
        <card>7D</card>
        <card>8D</card>
        <card>9D</card>
        <card>0D</card>
        <card>JD</card>
        <card>QD</card>
        <card>KD</card>
        <card>AH</card>
        <card>2H</card>
        <card>3H</card>
        <card>4H</card>
        <card>5H</card>
        <card>6H</card>
        <card>7H</card>
        <card>8H</card>
        <card>9H</card>
        <card>0H</card>
        <card>JH</card>
        <card>QH</card>
        <card>KH</card>
        <card>AS</card>
        <card>2S</card>
        <card>3S</card>
        <card>4S</card>
        <card>5S</card>
        <card>6S</card>
        <card>7S</card>
        <card>8S</card>
        <card>9S</card>
        <card>0S</card>
        <card>JS</card>
        <card>QS</card>
        <card>KS</card>
    </deck>
    <cell_groups>
        <group category="action">
            <cell name="1">
                <fan>y</fan>
                <rotation>0</rotation>
                <init_cards>
                    <card>RdU</card>
                </init_cards>
            </cell>
            <cell name="2">
                <fan>y</fan>
                <rotation>0</rotation>
                <init_cards>
                    <card>RdD</card>
                    <card>RdU</card>
                </init_cards>
            </cell>
            <cell name="3">
                <fan>y</fan>
                <rotation>0</rotation>
                <init_cards>
                    <card>RdD</card>
                    <card>RdD</card>
                    <card>RdU</card>
                </init_cards>
            </cell>
            <cell name="4">
                <fan>y</fan>
                <rotation>0</rotation>
                <init_cards>
                    <card>RdD</card>
                    <card>RdD</card>
                    <card>RdD</card>
                    <card>RdU</card>
                </init_cards>
            </cell>
            <cell name="5">
                <fan>y</fan>
                <rotation>0</rotation>
                <init_cards>
                    <card>RdD</card>
                    <card>RdD</card>
                    <card>RdD</card>
                    <card>RdD</card>
                    <card>RdU</card>
                </init_cards>
            </cell>
            <cell name="6">
                <fan>y</fan>
                <rotation>0</rotation>
                <init_cards>
                    <card>RdD</card>
                    <card>RdD</card>
                    <card>RdD</card>
                    <card>RdD</card>
                    <card>RdD</card>
                    <card>RdU</card>
                </init_cards>
            </cell>
            <cell name="7">
                <fan>y</fan>
                <rotation>0</rotation>
                <init_cards>
                    <card>RdD</card>
                    <card>RdD</card>
                    <card>RdD</card>
                    <card>RdD</card>
                    <card>RdD</card>
                    <card>RdD</card>
                    <card>RdU</card>
                </init_cards>
            </cell>
        </group>
        <group category="suits">
            <cell name="club">
                <fan>n</fan>
                <rotation>0</rotation>
                <init_cards/>
            </cell>
            <cell name="diamond">
                <fan>n</fan>
                <rotation>0</rotation>
                <init_cards/>
            </cell>
            <cell name="heart">
                <fan>n</fan>
                <rotation>0</rotation>
                <init_cards/>
            </cell>
            <cell name="spade">
                <fan>n</fan>
                <rotation>0</rotation>
                <init_cards/>
            </cell>
        </group>
        <group category="deck">
            <cell name="draw">
                <fan>n</fan>
                <rotation>0</rotation>
                <init_cards>
                    <card>**D</card>
                </init_cards>
            </cell>
        </group>
        <group category="hand">
            <cell name="playable">
                <fan>n</fan>
                <rotation>0</rotation>
                <init_cards/>
            </cell>
        </group>
    </cell_groups>
    <phases>
        <phase name="play">
            <valid_donors>
                <category>action</category>
                <category>deck</category>
                <category>hand</category>
                <category>suits</category>
            </valid_donors>
            <rules>
                <rule category="action">
                    <receive_rule>
                        <!-- put regex here -->
                        <!-- value(Up/Down, #) color(=/!)
                             suit(=/!/C/D/H/S) # of cards(One/Multiple) -->
                        <mover>
                            <direction>d</direction>
                            <value>1</value>
                            <color>!</color>
                            <suit>*</suit>
                            <num_of_cards>m</num_of_cards>
                            <is_faceup>y</is_faceup>
                        </mover>
                        <donor>
                            <direction>*</direction>
                            <value>*</value>
                            <color>*</color>
                            <suit>*</suit>
                            <num_of_cards>*</num_of_cards>
                            <is_faceup>*</is_faceup>
                        </donor>
                    </receive_rule>
                    <action>
                        <receiver_dest>
                            <destination>r</destination>
                            <stack>u</stack>
                            <num_cards>*</num_cards>
                            <shuffle>n</shuffle>
                            <direction>0</direction>
                            <offset>down</offset>
                        </receiver_dest>
                        <mover_dest>
                            <destination>r</destination>
                            <stack>u</stack>
                            <num_cards>*</num_cards>
                            <shuffle>n</shuffle>
                            <direction>0</direction>
                            <offset>down</offset>
                        </mover_dest>
                        <points/>
                        <next_phase>check_eog</next_phase>
                    </action>
                </rule>
                <rule category="suits">
                    <receive_rule>
                        <!-- put regex here -->
                        <!-- value(Up/Down, #) color(=/!)
                             suit(=/!/C/D/H/S) # of cards(One/Multiple) -->
                        <mover>
                            <direction>u</direction>
                            <value>1</value>
                            <color>*</color>
                            <suit>=</suit>
                            <num_of_cards>o</num_of_cards>
                            <is_faceup>y</is_faceup>
                        </mover>
                        <donor>
                            <direction>*</direction>
                            <value>*</value>
                            <color>*</color>
                            <suit>*</suit>
                            <num_of_cards>*</num_of_cards>
                            <is_faceup>*</is_faceup>
                        </donor>
                    </receive_rule>
                    <action>
                        <receiver_dest>
                            <destination>r</destination>
                            <stack>u</stack>
                            <num_cards>*</num_cards>
                            <shuffle>n</shuffle>
                            <direction>0</direction>
                            <offset>0</offset>
                        </receiver_dest>
                        <mover_dest>
                            <destination>r</destination>
                            <stack>u</stack>
                            <num_cards>*</num_cards>
                            <shuffle>n</shuffle>
                            <direction>0</direction>
                            <offset>0</offset>
                        </mover_dest>
                        <points/>
                        <next_phase>check_eog</next_phase>
                    </action>
                </rule>
                <rule category="deck">
                    <receive_rule>
                        <!-- put regex here -->
                        <!-- value(Up/Down, #) color(=/!)
                             suit(=/!/C/D/H/S) # of cards(One/Multiple) -->
                        <mover>
                            <direction>u</direction>
                            <value>1</value>
                            <color>!</color>
                            <suit>*</suit>
                            <num_of_cards>m</num_of_cards>
                            <is_faceup>y</is_faceup>
                        </mover>
                        <donor>
                            <direction>*</direction>
                            <value>*</value>
                            <color>*</color>
                            <suit>*</suit>
                            <num_of_cards>*</num_of_cards>
                            <is_faceup>*</is_faceup>
                        </donor>
                    </receive_rule>
                    <action>
                        <receiver_dest>
                            <destination>r</destination>
                            <stack>u</stack>
                            <num_cards>*</num_cards>
                            <shuffle>n</shuffle>
                            <direction>0</direction>
                            <offset>down</offset>
                        </receiver_dest>
                        <mover_dest>
                            <destination>r</destination>
                            <stack>u</stack>
                            <num_cards>*</num_cards>
                            <shuffle>n</shuffle>
                            <direction>0</direction>
                            <offset>down</offset>
                        </mover_dest>
                        <points/>
                        <next_phase>check_eog</next_phase>
                    </action>
                </rule>
                <rule category="hand">
                    <receive_rule>
                        <!-- put regex here -->
                        <!-- value(Up/Down, #) color(=/!)
                             suit(=/!/C/D/H/S) # of cards(One/Multiple) -->
                        <mover>
                            <direction>u</direction>
                            <value>1</value>
                            <color>!</color>
                            <suit>*</suit>
                            <num_of_cards>m</num_of_cards>
                            <is_faceup>y</is_faceup>
                        </mover>
                        <donor>
                            <direction>*</direction>
                            <value>*</value>
                            <color>*</color>
                            <suit>*</suit>
                            <num_of_cards>*</num_of_cards>
                            <is_faceup>*</is_faceup>
                        </donor>
                    </receive_rule>
                    <action>
                        <receiver_dest>
                            <destination>r</destination>
                            <stack>u</stack>
                            <num_cards>*</num_cards>
                            <shuffle>n</shuffle>
                            <direction>0</direction>
                            <offset>down</offset>
                        </receiver_dest>
                        <mover_dest>
                            <destination>r</destination>
                            <stack>u</stack>
                            <num_cards>*</num_cards>
                            <shuffle>n</shuffle>
                            <direction>0</direction>
                            <offset>down</offset>
                        </mover_dest>
                        <points/>
                        <next_phase>check_eog</next_phase>
                    </action>
                </rule>
            </rules>
        </phase>
        <phase name="check_eog">
            <valid_donors/>
            <rules>
                <rule category="check">
                    <option>
                        <condition category="action">
                            <!-- somehow check that all these are empty -->
                        </condition>
                        <condition category="hand">
                            <!-- somehow check that all these are empty -->
                        </condition>
                        <condition category="deck">
                            <!-- somehow check that all these are empty -->
                        </condition>
                        <action>
                            <!-- go to end of game -->
                        </action>
                    </option>
                    <option>
                        <action>
                            <!-- go to player turn -->
                        </action>
                    </option>
                </rule>
            </rules>
        </phase>
        <phase name="end_of_game">
            <valid_donors/>
            <rules>
                <rule category="default">
                    <option>
                        <action>
                            <!-- display end of game screen -->
                        </action>
                    </option>
                </rule>
            </rules>
        </phase>
    </phases>
</data>